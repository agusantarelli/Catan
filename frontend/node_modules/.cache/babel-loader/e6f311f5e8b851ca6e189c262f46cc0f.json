{"ast":null,"code":"import _slicedToArray from \"/home/agustina/Descargas/catan/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/agustina/Descargas/catan/src/components/Login.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport api from \"../Api\";\nimport Background from \"../public/img/catan-bg.jpg\";\nimport CustomInput from \"./CustomInput\";\nimport AuthContext from \"../AuthContext\"; // TODO: Remove repeated code\n\nexport const TextClasses = \"text-center text-sm self-center tracking-wider text-bold\";\nexport const CommonClasses = \"w-5/6 shadow-md rounded h-12\";\nconst bgImage = {\n  backgroundImage: \"url(\".concat(Background, \")\")\n};\nexport function LoginPage() {\n  return React.createElement(\"div\", {\n    className: \"h-full bg-cover bg-center flex justify-center\",\n    style: bgImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(LoginForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25\n    },\n    __self: this\n  }));\n}\n\nfunction LoginForm() {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        user = _useState2[0],\n        setUser = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        pass = _useState4[0],\n        setPass = _useState4[1];\n\n  const history = useHistory();\n\n  const _useContext = useContext(AuthContext),\n        auth = _useContext.auth,\n        authDispatch = _useContext.authDispatch;\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const res = await api.auth.login(user, pass);\n      const token = res.data.token;\n      authDispatch({\n        type: \"LOGIN\",\n        user,\n        token\n      });\n      history.push(\"/lobby\");\n    } catch (err) {\n      console.log(\"Error: \".concat(err));\n      alert(\"Invalid login of password\");\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"h-ful md:table w-full md:w-6/12 lg:w-4/12 md:mt-20 md:rounded-lg shadow-lg bg-orange-300\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, auth.token && React.createElement(Redirect, {\n    to: \"/lobby\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    className: \"font-cinzel text-center pt-24 leading-tight text-gray-900\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    className: \"text-xl\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"The Settlers of\"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"text-5xl font-bold tracking-widest\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Catan\")), React.createElement(\"form\", {\n    className: \"flex flex-col justify-around mt-16 pb-12\",\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, React.createElement(CustomInput, {\n    type: \"text\",\n    placeholder: \"USERNAME\",\n    value: user,\n    onChange: e => setUser(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }), React.createElement(CustomInput, {\n    type: \"password\",\n    placeholder: \"PASSWORD\",\n    value: pass,\n    onChange: e => setPass(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"LOGIN\",\n    className: \"\\n            cursor-pointer\\n            mt-2\\n            h-12\\n            bg-blue-800\\n            text-white\\n            \".concat(CommonClasses, \"\\n            \").concat(TextClasses, \"\\n            \"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"text-orange-800 text-center font-medium mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }, \"Don\\u2019t have an account yet?\"), React.createElement(\"input\", {\n    type: \"button\",\n    onClick: () => {\n      history.push(\"/register\");\n    },\n    className: \"\\n            mt-1\\n            h-12\\n            \".concat(CommonClasses, \"\\n            \").concat(TextClasses, \"\\n            text-white\\n            bg-orange-600\\n            cursor-pointer\\n            \"),\n    value: \"REGISTER\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  })));\n}\n\nexport default {\n  LoginPage,\n  CustomInput,\n  TextClasses,\n  CommonClasses\n};","map":{"version":3,"sources":["/home/agustina/Descargas/catan/src/components/Login.jsx"],"names":["React","useState","useContext","Redirect","useHistory","api","Background","CustomInput","AuthContext","TextClasses","CommonClasses","bgImage","backgroundImage","LoginPage","LoginForm","user","setUser","pass","setPass","history","auth","authDispatch","handleSubmit","event","preventDefault","res","login","token","data","type","push","err","console","log","alert","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\n\nimport api from \"../Api\";\nimport Background from \"../public/img/catan-bg.jpg\";\n\nimport CustomInput from \"./CustomInput\";\nimport AuthContext from \"../AuthContext\";\n\n// TODO: Remove repeated code\nexport const TextClasses =\n  \"text-center text-sm self-center tracking-wider text-bold\";\nexport const CommonClasses = \"w-5/6 shadow-md rounded h-12\";\n\nconst bgImage = {\n  backgroundImage: `url(${Background})`\n};\n\nexport function LoginPage() {\n  return (\n    <div\n      className=\"h-full bg-cover bg-center flex justify-center\"\n      style={bgImage}\n    >\n      <LoginForm />\n    </div>\n  );\n}\n\nfunction LoginForm() {\n  const [user, setUser] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const history = useHistory();\n\n  const { auth, authDispatch } = useContext(AuthContext);\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const res = await api.auth.login(user, pass);\n      const { token } = res.data;\n      authDispatch({ type: \"LOGIN\", user, token });\n      history.push(\"/lobby\");\n    } catch (err) {\n      console.log(`Error: ${err}`);\n      alert(\"Invalid login of password\");\n    }\n  };\n\n  return (\n    <div className=\"h-ful md:table w-full md:w-6/12 lg:w-4/12 md:mt-20 md:rounded-lg shadow-lg bg-orange-300\">\n      {auth.token && <Redirect to=\"/lobby\" />}\n      <h1 className=\"font-cinzel text-center pt-24 leading-tight text-gray-900\">\n        <span className=\"text-xl\">The Settlers of</span>\n        <br />\n        <span className=\"text-5xl font-bold tracking-widest\">Catan</span>\n      </h1>\n      <form\n        className=\"flex flex-col justify-around mt-16 pb-12\"\n        onSubmit={handleSubmit}\n      >\n        <CustomInput\n          type=\"text\"\n          placeholder=\"USERNAME\"\n          value={user}\n          onChange={e => setUser(e.target.value)}\n        />\n        <CustomInput\n          type=\"password\"\n          placeholder=\"PASSWORD\"\n          value={pass}\n          onChange={e => setPass(e.target.value)}\n        />\n        <input\n          type=\"submit\"\n          value=\"LOGIN\"\n          className={`\n            cursor-pointer\n            mt-2\n            h-12\n            bg-blue-800\n            text-white\n            ${CommonClasses}\n            ${TextClasses}\n            `}\n        />\n        <span className=\"text-orange-800 text-center font-medium mt-5\">\n          Donâ€™t have an account yet?\n        </span>\n        <input\n          type=\"button\"\n          onClick={() => {\n            history.push(\"/register\");\n          }}\n          className={`\n            mt-1\n            h-12\n            ${CommonClasses}\n            ${TextClasses}\n            text-white\n            bg-orange-600\n            cursor-pointer\n            `}\n          value=\"REGISTER\"\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default { LoginPage, CustomInput, TextClasses, CommonClasses };\n"]},"metadata":{},"sourceType":"module"}